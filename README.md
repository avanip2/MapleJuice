# CS 425 - MP4 (MapleJuice + SQL)

## Ruchika Biswas(rbiswas4) and Avani Puranik(avanip2)

This repository contains our code for MP4. The files in the `mj_protocl` directory are required to run code specific to MP4, with one file that can run on all machines, which is the `main.go` file. Each machine maintains certain abilities, including automatically joining the membership group, leaving voluntarily, list its membership list, enable suspicion, and more. This goes hand in hand with the SDFS protocol, which allows nodes to complete PUT, GET, DELETE and other requests related to file transfer. Finally, each node can initiate MapleJuice tasks, as well as request basic filter and join SQL queries. Each node has the ability to locally write and add executable files for MapleJuice into SDFS for ease of execution. 

# How to Run the Code
To run the server code, navigate to the `mj_protocol`.
* Run the server code from all machines:\
`go run main.go`
* Once the server is running, it is capable of executing the following commands:\
`leave` - voluntarily leave the group\
`list_mem` - output the member's membership list\
`list_self` - output the member's ID\
`enable_sus` - switch the system to gossip with suspicion\
`disable_sus` - switch system from gossip with suspicion to just gossip\
`put` - add a local file into the SDFS\
`get` - read a file from SDFS into local directory\
`delete` - remove a file entirely from SDFS\
`ls` - list all machines on which an SDFS file is stored\
`store` - display the SDFS files stored on that machine\
`multiread` - instantiate a get from one machine for multiple other machines along with itself\
`maple` - initiate a single maple phase with num_maples number of tasks spread across the system on an input directory and store intermediate key files\
`juice` - initiate a single juice phase with num_juices number of tasks spread across the system on some intermediate key files generated by a map phase and write them to an output file\
`SELECT` - initiate a SQL query with one or more datasets with a given set of conditions, including regex matching for filtering and join capability